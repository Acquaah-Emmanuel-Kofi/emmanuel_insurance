<ul class="list-none space-y-4">
  @for (node of nodes(); track $index) {
  <ng-container>
    <li>
      <!-- Parent Node -->
      <div
        class="flex items-center cursor-pointer text-gray-800 text-sm font-medium space-x-3"
        (click)="
          node.children?.length ? (node.expanded = !node.expanded) : null
        "
      >
        <!-- Arrow Icon -->
        @if (node.children?.length) {
        <span
          class="transition-transform text-gray-500 mr-2"
          [ngClass]="{ 'rotate-90': node.expanded }"
        >
          <svg
            width="6"
            height="9"
            viewBox="0 0 6 9"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
          >
            <path
              d="M0.747151 0.369423C0.897464 0.30248 1.0731 0.330267 1.1954 0.440343L5.36207 4.19034C5.44987 4.26936 5.5 4.38193 5.5 4.50005C5.5 4.61817 5.44987 4.73074 5.36207 4.80975L1.1954 8.55976C1.0731 8.66983 0.897464 8.69762 0.747151 8.63067C0.596838 8.56373 0.5 8.4146 0.5 8.25005V0.750048C0.5 0.585502 0.596838 0.436367 0.747151 0.369423Z"
              fill="#1A314D"
            />
          </svg>
        </span>
        }

        <!-- Folder Icon -->
        <span>
          <!-- Parent Folder Icon -->
          @if (node.children?.length) {
          <ng-container>
            <svg
              width="19"
              height="16"
              viewBox="0 0 19 16"
              fill="none"
              xmlns="http://www.w3.org/2000/svg"
            >
              <path
                fill-rule="evenodd"
                clip-rule="evenodd"
                d="M2.74796 12.3333C1.59692 12.3333 0.666016 11.4001 0.666016 10.25V2.74996C0.666016 1.59937 1.59876 0.666626 2.74935 0.666626H5.7375C6.06902 0.666626 6.38697 0.798322 6.62139 1.03274L7.7999 2.21125C7.87804 2.28939 7.98402 2.33329 8.09453 2.33329H15.2493C16.3999 2.33329 17.3327 3.26603 17.3327 4.41663V7.33329C17.3327 7.56341 17.1461 7.74996 16.916 7.74996C16.6859 7.74996 16.4993 7.56341 16.4993 7.33329V6.49996H1.49935V10.25C1.49935 10.9408 2.05806 11.5 2.74796 11.5H8.99935C9.22947 11.5 9.41602 11.6865 9.41602 11.9166C9.41602 12.1467 9.22947 12.3333 8.99935 12.3333H2.74796ZM1.49935 2.74996C1.49935 2.0596 2.05899 1.49996 2.74935 1.49996H5.7375C5.84801 1.49996 5.95399 1.54386 6.03213 1.622L7.21064 2.80051C7.44506 3.03493 7.76301 3.16663 8.09453 3.16663H15.2493C15.9397 3.16663 16.4993 3.72627 16.4993 4.41663V5.66663H1.49935V2.74996Z"
                fill="#1A314D"
              />
              <path
                d="M15.9774 10.5268C16.1303 10.3548 16.1148 10.0914 15.9428 9.93854C15.7708 9.78566 15.5075 9.80115 15.3546 9.97315L13.4438 12.1228L12.6441 11.2231C12.4912 11.0512 12.2279 11.0357 12.0559 11.1885C11.8839 11.3414 11.8684 11.6048 12.0213 11.7768L13.1324 13.0268C13.2114 13.1157 13.3248 13.1666 13.4438 13.1666C13.5628 13.1666 13.6761 13.1157 13.7552 13.0268L15.9774 10.5268Z"
                fill="#1A314D"
              />
              <path
                fill-rule="evenodd"
                clip-rule="evenodd"
                d="M13.9993 7.33329C11.6982 7.33329 9.83268 9.19877 9.83268 11.5C9.83268 13.8011 11.6982 15.6666 13.9993 15.6666C16.3005 15.6666 18.166 13.8011 18.166 11.5C18.166 9.19877 16.3005 7.33329 13.9993 7.33329ZM10.666 11.5C10.666 9.65901 12.1584 8.16663 13.9993 8.16663C15.8403 8.16663 17.3327 9.65901 17.3327 11.5C17.3327 13.3409 15.8403 14.8333 13.9993 14.8333C12.1584 14.8333 10.666 13.3409 10.666 11.5Z"
                fill="#1A314D"
              />
            </svg>
          </ng-container>
          } @else {
          <!-- Child Folder Icon -->

          <ng-container>
            <svg
              width="14"
              height="10"
              viewBox="0 0 14 10"
              fill="none"
              xmlns="http://www.w3.org/2000/svg"
            >
              <mask id="path-1-inside-1_539_17891" fill="white">
                <path
                  fill-rule="evenodd"
                  clip-rule="evenodd"
                  d="M0.333984 8.00004C0.333984 8.92052 1.08018 9.66671 2.00065 9.66671H12.0007C12.9211 9.66671 13.6673 8.92052 13.6673 8.00004V3.33337C13.6673 2.4129 12.9211 1.66671 12.0007 1.66671H6.27679C6.18839 1.66671 6.1036 1.63159 6.04109 1.56908L5.09828 0.626267C4.91075 0.438731 4.65639 0.333374 4.39118 0.333374H2.00065C1.08018 0.333374 0.333984 1.07957 0.333984 2.00004V8.00004ZM2.00065 1.00004C1.44837 1.00004 1.00065 1.44776 1.00065 2.00004V4.33337H13.0007V3.33337C13.0007 2.78109 12.5529 2.33337 12.0007 2.33337H6.27679C6.01158 2.33337 5.75722 2.22802 5.56969 2.04048L4.62688 1.09767C4.56437 1.03516 4.47958 1.00004 4.39118 1.00004H2.00065ZM1.00065 8.00004C1.00065 8.55233 1.44837 9.00004 2.00065 9.00004H12.0007C12.5529 9.00004 13.0007 8.55233 13.0007 8.00004V5.00004H1.00065V8.00004Z"
                />
              </mask>
              <path
                fill-rule="evenodd"
                clip-rule="evenodd"
                d="M0.333984 8.00004C0.333984 8.92052 1.08018 9.66671 2.00065 9.66671H12.0007C12.9211 9.66671 13.6673 8.92052 13.6673 8.00004V3.33337C13.6673 2.4129 12.9211 1.66671 12.0007 1.66671H6.27679C6.18839 1.66671 6.1036 1.63159 6.04109 1.56908L5.09828 0.626267C4.91075 0.438731 4.65639 0.333374 4.39118 0.333374H2.00065C1.08018 0.333374 0.333984 1.07957 0.333984 2.00004V8.00004ZM2.00065 1.00004C1.44837 1.00004 1.00065 1.44776 1.00065 2.00004V4.33337H13.0007V3.33337C13.0007 2.78109 12.5529 2.33337 12.0007 2.33337H6.27679C6.01158 2.33337 5.75722 2.22802 5.56969 2.04048L4.62688 1.09767C4.56437 1.03516 4.47958 1.00004 4.39118 1.00004H2.00065ZM1.00065 8.00004C1.00065 8.55233 1.44837 9.00004 2.00065 9.00004H12.0007C12.5529 9.00004 13.0007 8.55233 13.0007 8.00004V5.00004H1.00065V8.00004Z"
                fill="#1A314D"
              />
              <path
                d="M6.04109 1.56908L5.33398 2.27618L5.33399 2.27618L6.04109 1.56908ZM5.09828 0.626267L5.80539 -0.0808395V-0.0808398L5.09828 0.626267ZM1.00065 4.33337H0.000651062V5.33337H1.00065V4.33337ZM13.0007 4.33337V5.33337H14.0007V4.33337H13.0007ZM5.56969 2.04048L4.86258 2.74759L4.86258 2.74759L5.56969 2.04048ZM4.62688 1.09767L3.91977 1.80478L3.91977 1.80478L4.62688 1.09767ZM13.0007 5.00004H14.0007V4.00004H13.0007V5.00004ZM1.00065 5.00004V4.00004H0.000651062V5.00004H1.00065ZM2.00065 8.66671C1.63246 8.66671 1.33398 8.36823 1.33398 8.00004H-0.666016C-0.666016 9.4728 0.527892 10.6667 2.00065 10.6667V8.66671ZM12.0007 8.66671H2.00065V10.6667H12.0007V8.66671ZM12.6673 8.00004C12.6673 8.36823 12.3688 8.66671 12.0007 8.66671V10.6667C13.4734 10.6667 14.6673 9.4728 14.6673 8.00004H12.6673ZM12.6673 3.33337V8.00004H14.6673V3.33337H12.6673ZM12.0007 2.66671C12.3688 2.66671 12.6673 2.96518 12.6673 3.33337H14.6673C14.6673 1.86062 13.4734 0.666707 12.0007 0.666707V2.66671ZM6.27679 2.66671H12.0007V0.666707H6.27679V2.66671ZM5.33399 2.27618C5.58403 2.52623 5.92317 2.66671 6.27679 2.66671V0.666707C6.4536 0.666707 6.62317 0.736946 6.7482 0.861969L5.33399 2.27618ZM4.39118 1.33337L5.33398 2.27618L6.7482 0.86197L5.80539 -0.0808395L4.39118 1.33337ZM4.39118 1.33337L4.39118 1.33337L5.80539 -0.0808398C5.43032 -0.455912 4.92161 -0.666626 4.39118 -0.666626V1.33337ZM2.00065 1.33337H4.39118V-0.666626H2.00065V1.33337ZM1.33398 2.00004C1.33398 1.63185 1.63246 1.33337 2.00065 1.33337V-0.666626C0.527892 -0.666626 -0.666016 0.527281 -0.666016 2.00004H1.33398ZM1.33398 8.00004V2.00004H-0.666016V8.00004H1.33398ZM2.00065 2.00004V4.071e-05C0.896082 4.071e-05 0.000651062 0.895471 0.000651062 2.00004H2.00065ZM2.00065 4.33337V2.00004H0.000651062V4.33337H2.00065ZM13.0007 3.33337H1.00065V5.33337H13.0007V3.33337ZM12.0007 3.33337V4.33337H14.0007V3.33337H12.0007ZM12.0007 3.33337H14.0007C14.0007 2.2288 13.1052 1.33337 12.0007 1.33337V3.33337ZM6.27679 3.33337H12.0007V1.33337H6.27679V3.33337ZM4.86258 2.74759C5.23765 3.12266 5.74636 3.33337 6.27679 3.33337V1.33337L6.27679 1.33337L4.86258 2.74759ZM3.91977 1.80478L4.86258 2.74759L6.27679 1.33337L5.33398 0.390565L3.91977 1.80478ZM4.39118 2.00004C4.21436 2.00004 4.04479 1.9298 3.91977 1.80478L5.33398 0.390566C5.08394 0.140517 4.7448 4.071e-05 4.39118 4.071e-05V2.00004ZM2.00065 2.00004H4.39118V4.071e-05H2.00065V2.00004ZM2.00065 8.00004H2.00065H0.000651062C0.000651062 9.10461 0.896082 10 2.00065 10V8.00004ZM12.0007 8.00004H2.00065V10H12.0007V8.00004ZM12.0007 8.00004V10C13.1052 10 14.0007 9.10461 14.0007 8.00004H12.0007ZM12.0007 5.00004V8.00004H14.0007V5.00004H12.0007ZM1.00065 6.00004H13.0007V4.00004H1.00065V6.00004ZM2.00065 8.00004V5.00004H0.000651062V8.00004H2.00065Z"
                fill="#1A314D"
                mask="url(#path-1-inside-1_539_17891)"
              />
            </svg>
          </ng-container>
          }
        </span>
        <!-- Label -->
        <span
          class="text-[#1A314D] font-medium font-BentonSansMedium text-base"
          >{{ node.label }}</span
        >
      </div>

      <!-- Child Nodes -->
      @if (node.children && node.expanded) {
      <ul class="ml-9 mt-4">
        <app-custom-tree [nodes]="node.children" />
      </ul>
      }
    </li>
  </ng-container>
  }
</ul>
